# Prompt Transformation Example

Here is a concrete example of how the new prompt system transforms a slide concept into a final image generation prompt for Gemini 3.0 Pro.

## 1. StoryWriter Output (JSON)
The StoryWriter now outputs a concrete `visual_concept`.

```json
{
  "slide_number": 2,
  "title": "急成長するAI市場",
  "bullet_points": [
    "年平均成長率 35%超",
    "2030年に150兆円規模",
    "全産業への浸透"
  ],
  "visual_concept": "A futuristic isometric city rising rapidly from a digital grid. Glowing blue data streams flowing upwards like a graph, symbolizing exponential growth. Clean, high-tech atmosphere."
}
```

## 2. Visualizer System Prompt (Hidden Context)
The Visualizer receives the above and applies the **"Nano Banana Protocol V2"**:
- **Role**: World-Class Visual Director.
- **Style Injection**: Adds "Isometric 3D", "Glassmorphism", etc.
- **Constraints**: formatting, aspect ratio, negative space.

## 3. Final Image Generation Prompt (The Result)
This is the actual string sent to the `google-genai` generated by the Visualizer agent.

```text
[Role]: You are an expert 3D motion graphics artist specialized in fintech data visualization. 

[Context]: A business presentation slide visualizing rapid market expansion. 

[Subject]: A stunning isometric 3D cityscape composed of translucent glass and neon lights, rising dramatically from a dark digital grid. The buildings form the shape of an exponential growth chart. Glowing blue data streams flow vertically, emphasizing upward momentum.

[Style]: High-end Isometric 3D, Glassmorphism, Cyberpunk aesthetics but clean (Apple style). 8k resolution, ray-tracing, soft global illumination.

[Composition]: The main isometric city structure is positioned on the LEFT side of the frame. The RIGHT side remains open with deep, clean negative space (dark blue/black gradient) to allow for text overlay.

[Constraints]: --ar 16:9, NO text embedded in the 3D model, NO cluttered debris, NO messy wires, photorealistic textures but abstract geometry.
```

## Key Improvements
- **Structured Tags**: `[Role]`, `[Subject]`, `[Style]` help Gemini parse the intent.
- **Specific Style Keywords**: "Isometric 3D", "Glassmorphism" ensure the "poor/empty" look is replaced by a rich, designed aesthetic.
- **Negative Space**: Explicit instruction (`RIGHT side remains open`) ensures the slide text allows readability.
